import 'dotenv/config';
import mongoose from 'mongoose';
import { Redis } from 'ioredis';
import { Product } from './models/product.js';

const MONGO_URI = process.env.MONGO_URI || '';
const REDIS_URI = process.env.REDIS_URI || '';

const products = [
    // ─── Electronics ───────────────────────────────────────────────────────────
    { name: "Sony WH-1000XM5 Wireless Headphones", category: "electronics", price: 29999, stock: 45, ratings: 4.8, description: "Industry-leading noise cancellation with up to 30 hours battery life.", photos: [{ public_id: "elec1", url: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=600" }] },
    { name: "Apple AirPods Pro 2nd Gen", category: "electronics", price: 24999, stock: 60, ratings: 4.9, description: "Active Noise Cancellation, Adaptive Transparency, and Personalized Spatial Audio.", photos: [{ public_id: "elec2", url: "https://images.unsplash.com/photo-1600294037681-c80b4cb5b434?w=600" }] },
    { name: "Samsung 55\" 4K QLED Smart TV", category: "electronics", price: 79999, stock: 20, ratings: 4.7, description: "Quantum HDR, Object Tracking Sound, and Gaming Hub all in one.", photos: [{ public_id: "elec3", url: "https://images.unsplash.com/photo-1593784991095-a205069470b6?w=600" }] },
    { name: "Canon EOS R50 Mirrorless Camera", category: "electronics", price: 69999, stock: 15, ratings: 4.6, description: "24.2MP APS-C sensor, 4K video, and AI-powered subject tracking.", photos: [{ public_id: "elec4", url: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=600" }] },
    { name: "Logitech MX Master 3S Mouse", category: "electronics", price: 8999, stock: 80, ratings: 4.8, description: "8K DPI sensor, MagSpeed scrolling, and ultra-quiet clicks.", photos: [{ public_id: "elec5", url: "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=600" }] },
    { name: "Mechanical Gaming Keyboard RGB", category: "electronics", price: 5499, stock: 100, ratings: 4.5, description: "Cherry MX switches with full RGB backlighting and anti-ghosting.", photos: [{ public_id: "elec6", url: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=600" }] },
    { name: "JBL Charge 5 Portable Speaker", category: "electronics", price: 12999, stock: 55, ratings: 4.7, description: "Waterproof, 20h playtime, and powerbank built-in.", photos: [{ public_id: "elec7", url: "https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=600" }] },
    { name: "SmartWatch Pro Ultra Series 9", category: "electronics", price: 39999, stock: 30, ratings: 4.8, description: "Always-on AMOLED, ECG, SpO2, and 18-day battery.", photos: [{ public_id: "elec8", url: "https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=600" }] },
    { name: "4-Port USB-C Hub with HDMI", category: "electronics", price: 2499, stock: 200, ratings: 4.4, description: "60W passthrough charging, 4K HDMI, USB-A 3.0 ports.", photos: [{ public_id: "elec9", url: "https://images.unsplash.com/photo-1588345921523-c2dcdb7f1dcd?w=600" }] },
    { name: "Ring Video Doorbell Pro", category: "electronics", price: 14999, stock: 35, ratings: 4.6, description: "1080p HD, 3D motion detection, and configurable zones.", photos: [{ public_id: "elec10", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },

    // ─── Mobiles ───────────────────────────────────────────────────────────────
    { name: "iPhone 16 Pro Max 256GB", category: "mobiles", price: 134999, stock: 25, ratings: 4.9, description: "A18 Pro chip, 48MP Fusion camera, titanium design.", photos: [{ public_id: "mob1", url: "https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=600" }] },
    { name: "Samsung Galaxy S24 Ultra", category: "mobiles", price: 124999, stock: 30, ratings: 4.8, description: "200MP camera, built-in S Pen, Snapdragon 8 Gen 3.", photos: [{ public_id: "mob2", url: "https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?w=600" }] },
    { name: "OnePlus 12 5G 256GB", category: "mobiles", price: 64999, stock: 50, ratings: 4.7, description: "Snapdragon 8 Gen 3, 100W SuperVOOC, Hasselblad cameras.", photos: [{ public_id: "mob3", url: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=600" }] },
    { name: "Google Pixel 9 Pro 128GB", category: "mobiles", price: 99999, stock: 20, ratings: 4.7, description: "Tensor G4, AI-powered photography, 7 years of updates.", photos: [{ public_id: "mob4", url: "https://images.unsplash.com/photo-1607936854279-55e8a4c64888?w=600" }] },
    { name: "Xiaomi 14 Pro 5G 512GB", category: "mobiles", price: 74999, stock: 40, ratings: 4.6, description: "Leica optics, Snapdragon 8 Gen 3, HyperOS.", photos: [{ public_id: "mob5", url: "https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?w=600" }] },
    { name: "Nothing Phone (2) 256GB", category: "mobiles", price: 44999, stock: 60, ratings: 4.5, description: "Glyph Interface 2.0, Snapdragon 8+ Gen 1, 50MP dual camera.", photos: [{ public_id: "mob6", url: "https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=600" }] },
    { name: "Motorola Edge 50 Pro 5G", category: "mobiles", price: 29999, stock: 70, ratings: 4.4, description: "pOLED display, 125W TurboPower, IP68 rating.", photos: [{ public_id: "mob7", url: "https://images.unsplash.com/photo-1555774698-0b77e0d5fac6?w=600" }] },
    { name: "Realme GT 6T 5G 256GB", category: "mobiles", price: 34999, stock: 55, ratings: 4.5, description: "Snapdragon 7+ Gen 3, 120Hz Super AMOLED.", photos: [{ public_id: "mob8", url: "https://images.unsplash.com/photo-1565849904461-04a58ad377e0?w=600" }] },
    { name: "Vivo X100 Pro 5G", category: "mobiles", price: 89999, stock: 25, ratings: 4.7, description: "ZEISS optics, Dimensity 9300, 5000mAh.", photos: [{ public_id: "mob9", url: "https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=600" }] },
    { name: "iQOO 12 Pro 5G 256GB", category: "mobiles", price: 54999, stock: 45, ratings: 4.6, description: "Snapdragon 8 Gen 3, 200W FlashCharge, V2 chip.", photos: [{ public_id: "mob10", url: "https://images.unsplash.com/photo-1509822929063-6b6cfc9b42f2?w=600" }] },

    // ─── Laptops ───────────────────────────────────────────────────────────────
    { name: "MacBook Pro 16\" M3 Pro", category: "laptops", price: 249900, stock: 12, ratings: 4.9, description: "M3 Pro chip, Liquid Retina XDR display, 22-hour battery.", photos: [{ public_id: "lap1", url: "https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=600" }] },
    { name: "Dell XPS 15 OLED 2024", category: "laptops", price: 169999, stock: 18, ratings: 4.8, description: "Gorgeous 3.5K OLED, Intel Core Ultra 7, 2TB SSD.", photos: [{ public_id: "lap2", url: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=600" }] },
    { name: "Lenovo ThinkPad X1 Carbon Gen 12", category: "laptops", price: 149999, stock: 15, ratings: 4.7, description: "Ultra-light 1.12kg, Intel vPro, MIL-SPEC durability.", photos: [{ public_id: "lap3", url: "https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?w=600" }] },
    { name: "ASUS ROG Zephyrus G16 2024", category: "laptops", price: 189999, stock: 10, ratings: 4.8, description: "AMD Ryzen 9 8945HS, RTX 4090, 240Hz QHD display.", photos: [{ public_id: "lap4", url: "https://images.unsplash.com/photo-1603302576837-37561b2e2302?w=600" }] },
    { name: "HP Spectre x360 14\" OLED", category: "laptops", price: 139999, stock: 20, ratings: 4.7, description: "2-in-1 convertible, Intel Evo, 2.8K OLED touch display.", photos: [{ public_id: "lap5", url: "https://images.unsplash.com/photo-1504707748692-419802cf939d?w=600" }] },
    { name: "Microsoft Surface Pro 10", category: "laptops", price: 129999, stock: 22, ratings: 4.6, description: "Intel Core Ultra, Copilot+ features, ultra-slim form factor.", photos: [{ public_id: "lap6", url: "https://images.unsplash.com/photo-1484788984921-03950022c9ef?w=600" }] },
    { name: "Acer Swift Go 16 OLED", category: "laptops", price: 79999, stock: 30, ratings: 4.5, description: "16\" OLED, AMD Ryzen 7 8845HS, lightweight 1.5kg.", photos: [{ public_id: "lap7", url: "https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?w=600" }] },
    { name: "MSI Titan GT77 HX Gaming Laptop", category: "laptops", price: 299999, stock: 8, ratings: 4.8, description: "Intel i9-13980HX, RTX 4090, 4K 144Hz mini-LED display.", photos: [{ public_id: "lap8", url: "https://images.unsplash.com/photo-1544731612-de7f96afe55f?w=600" }] },
    { name: "Samsung Galaxy Book4 Pro 16\"", category: "laptops", price: 159999, stock: 14, ratings: 4.7, description: "Intel Core Ultra 7 155H, Dynamic AMOLED 2X, 120Hz.", photos: [{ public_id: "lap9", url: "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=600" }] },
    { name: "Razer Blade 18 2024", category: "laptops", price: 349999, stock: 6, ratings: 4.9, description: "Fastest gaming laptop, RTX 4090, 18\" QHD+ 300Hz.", photos: [{ public_id: "lap10", url: "https://images.unsplash.com/photo-1602080858428-57174f9431cf?w=600" }] },

    // ─── Books ─────────────────────────────────────────────────────────────────
    { name: "Atomic Habits – James Clear", category: "books", price: 499, stock: 500, ratings: 4.9, description: "Tiny changes, remarkable results — the proven system to build good habits.", photos: [{ public_id: "book1", url: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=600" }] },
    { name: "The Psychology of Money – Morgan Housel", category: "books", price: 399, stock: 400, ratings: 4.8, description: "Timeless lessons on wealth, greed, and happiness.", photos: [{ public_id: "book2", url: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=600" }] },
    { name: "Deep Work – Cal Newport", category: "books", price: 449, stock: 350, ratings: 4.7, description: "Rules for focused success in a distracted world.", photos: [{ public_id: "book3", url: "https://images.unsplash.com/photo-1512820790803-83ca734da794?w=600" }] },
    { name: "Rich Dad Poor Dad – Robert Kiyosaki", category: "books", price: 299, stock: 600, ratings: 4.6, description: "What the rich teach their kids about money that the poor do not.", photos: [{ public_id: "book4", url: "https://images.unsplash.com/photo-1519682577862-22b62b24cb12?w=600" }] },
    { name: "The Pragmatic Programmer", category: "books", price: 899, stock: 200, ratings: 4.8, description: "Your journey to mastery — the classic guide every developer needs.", photos: [{ public_id: "book5", url: "https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?w=600" }] },
    { name: "Zero to One – Peter Thiel", category: "books", price: 499, stock: 300, ratings: 4.7, description: "Notes on startups and how to build the future.", photos: [{ public_id: "book6", url: "https://images.unsplash.com/photo-1621944190310-e3cca1564bd7?w=600" }] },
    { name: "Sapiens – Yuval Noah Harari", category: "books", price: 549, stock: 450, ratings: 4.8, description: "A brief history of humankind.", photos: [{ public_id: "book7", url: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=600" }] },
    { name: "The Lean Startup – Eric Ries", category: "books", price: 499, stock: 280, ratings: 4.6, description: "How constant innovation creates radically successful businesses.", photos: [{ public_id: "book8", url: "https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=600" }] },
    { name: "Think and Grow Rich – Napoleon Hill", category: "books", price: 249, stock: 700, ratings: 4.7, description: "The landmark bestseller on the philosophy of success.", photos: [{ public_id: "book9", url: "https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=600" }] },
    { name: "Clean Code – Robert C. Martin", category: "books", price: 799, stock: 180, ratings: 4.8, description: "A handbook of agile software craftsmanship.", photos: [{ public_id: "book10", url: "https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=600" }] },

    // ─── Fashion ───────────────────────────────────────────────────────────────
    { name: "Men's Slim Fit Wool Blazer", category: "fashion", price: 4999, stock: 80, ratings: 4.6, description: "Italian-cut slim fit blazer with notched lapel and two-button closure.", photos: [{ public_id: "fash1", url: "https://images.unsplash.com/photo-1507680434567-5739c80be1ac?w=600" }] },
    { name: "Women's Floral Wrap Dress", category: "fashion", price: 2499, stock: 120, ratings: 4.7, description: "Lightweight chiffon wrap dress with botanical print, perfect for summer.", photos: [{ public_id: "fash2", url: "https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600" }] },
    { name: "Classic White Sneakers", category: "fashion", price: 3499, stock: 200, ratings: 4.8, description: "Premium leather uppers, cushioned sole, timeless clean look.", photos: [{ public_id: "fash3", url: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=600" }] },
    { name: "Men's Slim Chinos – Olive Green", category: "fashion", price: 1999, stock: 150, ratings: 4.5, description: "Stretch cotton chinos, tapered fit, five-pocket style.", photos: [{ public_id: "fash4", url: "https://images.unsplash.com/photo-1473966968600-fa801b869a1a?w=600" }] },
    { name: "Women's Leather Tote Bag", category: "fashion", price: 3999, stock: 70, ratings: 4.7, description: "Full-grain leather, spacious interior, gold hardware accents.", photos: [{ public_id: "fash5", url: "https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=600" }] },
    { name: "Aviator Sunglasses – Polarized", category: "fashion", price: 1799, stock: 180, ratings: 4.6, description: "UV400 protection, stainless steel frame, polarized lens.", photos: [{ public_id: "fash6", url: "https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=600" }] },
    { name: "Premium Denim Jacket", category: "fashion", price: 2999, stock: 90, ratings: 4.6, description: "Classic indigo washed denim with copper rivets and chest pockets.", photos: [{ public_id: "fash7", url: "https://images.unsplash.com/photo-1551028719-00167b16eac5?w=600" }] },
    { name: "Women's Running Shoes – Air Mesh", category: "fashion", price: 4499, stock: 130, ratings: 4.7, description: "Breathable mesh upper, responsive foam midsole, lightweight design.", photos: [{ public_id: "fash8", url: "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=600" }] },
    { name: "Cashmere Turtleneck Sweater", category: "fashion", price: 5999, stock: 60, ratings: 4.8, description: "100% pure cashmere, ribbed cuffs and hem, luxuriously soft.", photos: [{ public_id: "fash9", url: "https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=600" }] },
    { name: "Leather Belt with Brass Buckle", category: "fashion", price: 899, stock: 250, ratings: 4.5, description: "Full-grain leather, antique brass buckle, 35mm width.", photos: [{ public_id: "fash10", url: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=600" }] },

    // ─── Appliances ────────────────────────────────────────────────────────────
    { name: "Dyson V15 Detect Cordless Vacuum", category: "appliances", price: 49999, stock: 30, ratings: 4.8, description: "Laser dust detection, HEPA filtration, 60-min runtime.", photos: [{ public_id: "app1", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "LG 8KG Front Load Washing Machine", category: "appliances", price: 44999, stock: 20, ratings: 4.7, description: "AI DD technology, Steam+, ThinQ connectivity.", photos: [{ public_id: "app2", url: "https://images.unsplash.com/photo-1626806787461-102c1bfaaea1?w=600" }] },
    { name: "Philips Air Fryer XXL 7.3L", category: "appliances", price: 12999, stock: 55, ratings: 4.7, description: "Digital display, 7 presets, fat removal technology.", photos: [{ public_id: "app3", url: "https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=600" }] },
    { name: "Bosch 591L French Door Refrigerator", category: "appliances", price: 89999, stock: 12, ratings: 4.8, description: "Multi-airflow system, FreshSense technology, NoFrost.", photos: [{ public_id: "app4", url: "https://images.unsplash.com/photo-1571175443880-49e1d25b2bc5?w=600" }] },
    { name: "De'Longhi Dedica Espresso Machine", category: "appliances", price: 24999, stock: 40, ratings: 4.8, description: "15-bar pumps, manual cappuccino system, 1.1L tank.", photos: [{ public_id: "app5", url: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600" }] },
    { name: "Instant Pot Duo 7-in-1", category: "appliances", price: 8999, stock: 75, ratings: 4.7, description: "Pressure cooker, slow cooker, rice cooker, steamer in one.", photos: [{ public_id: "app6", url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=600" }] },
    { name: "Dyson Pure Cool Air Purifier Fan", category: "appliances", price: 39999, stock: 25, ratings: 4.7, description: "HEPA+Carbon filter, 360° purification, app control.", photos: [{ public_id: "app7", url: "https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=600" }] },
    { name: "Microwave Oven Convection 30L", category: "appliances", price: 14999, stock: 50, ratings: 4.5, description: "Convection, grill, microwave combo with 200+ recipes.", photos: [{ public_id: "app8", url: "https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?w=600" }] },
    { name: "KitchenAid Stand Mixer 4.8L", category: "appliances", price: 34999, stock: 28, ratings: 4.9, description: "10-speed planetary mixing, 59 touchpoints per revolution.", photos: [{ public_id: "app9", url: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600" }] },
    { name: "Philips IntelliLED Clothes Iron", category: "appliances", price: 4499, stock: 90, ratings: 4.5, description: "OptimalTEMP technology, no-burn guarantee, 2600W.", photos: [{ public_id: "app10", url: "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=600" }] },

    // ─── Furniture ─────────────────────────────────────────────────────────────
    { name: "Ergonomic Mesh Office Chair", category: "furniture", price: 19999, stock: 35, ratings: 4.8, description: "Lumbar support, adjustable armrests, breathable mesh backrest.", photos: [{ public_id: "furn1", url: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?w=600" }] },
    { name: "Solid Wood 6-Seater Dining Table", category: "furniture", price: 54999, stock: 10, ratings: 4.7, description: "Sheesham solid wood, natural finish, comes with 6 upholstered chairs.", photos: [{ public_id: "furn2", url: "https://images.unsplash.com/photo-1449247709967-d4461a6a6103?w=600" }] },
    { name: "3-Seater L-Shape Sectional Sofa", category: "furniture", price: 69999, stock: 8, ratings: 4.6, description: "Premium fabric, high-density foam, modular design.", photos: [{ public_id: "furn3", url: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=600" }] },
    { name: "Queen Size Upholstered Bed Frame", category: "furniture", price: 34999, stock: 15, ratings: 4.7, description: "Velvet headboard, hydraulic storage, walnut legs.", photos: [{ public_id: "furn4", url: "https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=600" }] },
    { name: "Floating Wall Shelves Set of 5", category: "furniture", price: 3499, stock: 60, ratings: 4.5, description: "Oak finish, invisible mounting brackets, up to 15kg each.", photos: [{ public_id: "furn5", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "Standing Desk – Electric Height Adjustable", category: "furniture", price: 29999, stock: 20, ratings: 4.8, description: "Dual motor, memory settings, 140cm wide surface.", photos: [{ public_id: "furn6", url: "https://images.unsplash.com/photo-1593642632559-0c6d3fc62b89?w=600" }] },
    { name: "Bookshelf 6-Tier Industrial Style", category: "furniture", price: 8999, stock: 40, ratings: 4.6, description: "Metal frame, rustic wood, open display shelves.", photos: [{ public_id: "furn7", url: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600" }] },
    { name: "Outdoor Rattan Garden Set 4pc", category: "furniture", price: 44999, stock: 12, ratings: 4.7, description: "All-weather PE rattan, includes 2 chairs, sofa and table.", photos: [{ public_id: "furn8", url: "https://images.unsplash.com/photo-1506439773649-6e0eb8cfb237?w=600" }] },
    { name: "Wardrobe with Mirror – 3 Door", category: "furniture", price: 39999, stock: 10, ratings: 4.5, description: "Full-length mirror, internal drawers, hanging rail, 210cm tall.", photos: [{ public_id: "furn9", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "TV Unit Stand with Storage", category: "furniture", price: 12999, stock: 30, ratings: 4.6, description: "Fits up to 65\" TVs, cable management, LED lighting.", photos: [{ public_id: "furn10", url: "https://images.unsplash.com/photo-1593784991095-a205069470b6?w=600" }] },

    // ─── Home Decor ────────────────────────────────────────────────────────────
    { name: "Macramé Wall Hanging Large", category: "home decor", price: 1499, stock: 90, ratings: 4.7, description: "Hand-knotted cotton macramé, 60×90cm, boho style.", photos: [{ public_id: "dec1", url: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=600" }] },
    { name: "Ceramic Vase Set of 3 – Earth Tones", category: "home decor", price: 2199, stock: 70, ratings: 4.6, description: "Minimalist matte finish, graduated sizes, trending Nordic design.", photos: [{ public_id: "dec2", url: "https://images.unsplash.com/photo-1612196808214-b8e1d6145a8c?w=600" }] },
    { name: "Scented Soy Candle – Sandalwood", category: "home decor", price: 799, stock: 200, ratings: 4.8, description: "100% soy wax, 45-hour burn time, cotton wick.", photos: [{ public_id: "dec3", url: "https://images.unsplash.com/photo-1602178506859-c8e18ca6cb68?w=600" }] },
    { name: "Geometric Copper Wall Clock", category: "home decor", price: 1999, stock: 50, ratings: 4.5, description: "30cm brushed copper, silent quartz mechanism.", photos: [{ public_id: "dec4", url: "https://images.unsplash.com/photo-1563861826100-9cb868fdbe1c?w=600" }] },
    { name: "Abstract Canvas Art Print 3-Panel", category: "home decor", price: 3499, stock: 40, ratings: 4.7, description: "Gallery-wrapped, ready to hang, UV-protected inks.", photos: [{ public_id: "dec5", url: "https://images.unsplash.com/photo-1558591710-4b4a1ae0f004?w=600" }] },
    { name: "Rattan Pendant Light Shade", category: "home decor", price: 2499, stock: 55, ratings: 4.6, description: "Hand-woven natural rattan, fits E27 bulb, 35cm diameter.", photos: [{ public_id: "dec6", url: "https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=600" }] },
    { name: "Faux Fiddle Leaf Fig Plant 120cm", category: "home decor", price: 2999, stock: 45, ratings: 4.7, description: "Realistic faux leaves, weighted pot, no watering needed.", photos: [{ public_id: "dec7", url: "https://images.unsplash.com/photo-1545239351-1141bd82e8a6?w=600" }] },
    { name: "Moroccan Floor Cushion – 70cm", category: "home decor", price: 1799, stock: 65, ratings: 4.6, description: "Kilim fabric, inner filling included, washable cover.", photos: [{ public_id: "dec8", url: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=600" }] },
    { name: "Dried Pampas Grass Arrangement", category: "home decor", price: 999, stock: 80, ratings: 4.8, description: "Natural dried pampas, 80cm tall, neutral tones.", photos: [{ public_id: "dec9", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "Framed World Map Print – Vintage", category: "home decor", price: 2799, stock: 50, ratings: 4.5, description: "A2 size, antique sepia, black wooden frame.", photos: [{ public_id: "dec10", url: "https://images.unsplash.com/photo-1524661135-423995f22d0b?w=600" }] },

    // ─── Grocery ───────────────────────────────────────────────────────────────
    { name: "Organic Himalayan Pink Salt 1kg", category: "grocery", price: 199, stock: 500, ratings: 4.7, description: "Unprocessed, mineral-rich, perfect for cooking and seasoning.", photos: [{ public_id: "groc1", url: "https://images.unsplash.com/photo-1618897996318-5a901fa6ca71?w=600" }] },
    { name: "Cold-Pressed Extra Virgin Olive Oil 1L", category: "grocery", price: 799, stock: 300, ratings: 4.8, description: "First cold press, low acidity, polyphenol-rich.", photos: [{ public_id: "groc2", url: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=600" }] },
    { name: "Assorted Nut Mix 500g – Premium", category: "grocery", price: 549, stock: 400, ratings: 4.7, description: "Almonds, cashews, walnuts, pistachios, lightly salted.", photos: [{ public_id: "groc3", url: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=600" }] },
    { name: "Dark Chocolate 85% Cacao 200g", category: "grocery", price: 349, stock: 600, ratings: 4.8, description: "Single-origin, stone-ground, rich flavour, vegan-friendly.", photos: [{ public_id: "groc4", url: "https://images.unsplash.com/photo-1481391319762-47dff72954d9?w=600" }] },
    { name: "Organic Matcha Powder 100g", category: "grocery", price: 999, stock: 200, ratings: 4.9, description: "Ceremonial grade, stone-ground, vibrant green, earthy taste.", photos: [{ public_id: "groc5", url: "https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=600" }] },
    { name: "Raw Organic Honey 500g", category: "grocery", price: 449, stock: 350, ratings: 4.8, description: "Unfiltered, unheated, direct from the hive.", photos: [{ public_id: "groc6", url: "https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=600" }] },
    { name: "Quinoa Grain – White 1kg", category: "grocery", price: 399, stock: 400, ratings: 4.6, description: "Complete protein, gluten-free, pre-washed.", photos: [{ public_id: "groc7", url: "https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=600" }] },
    { name: "Green Tea – Darjeeling First Flush", category: "grocery", price: 599, stock: 250, ratings: 4.7, description: "Single estate, first flush, light and floral taste.", photos: [{ public_id: "groc8", url: "https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=600" }] },
    { name: "Chia Seeds 500g – Omega-3 Rich", category: "grocery", price: 299, stock: 500, ratings: 4.6, description: "High fibre, omega-3, protein-rich superfood.", photos: [{ public_id: "groc9", url: "https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=600" }] },
    { name: "Almond Butter 400g – No Added Sugar", category: "grocery", price: 699, stock: 300, ratings: 4.8, description: "100% almonds, stone-ground, creamy and natural.", photos: [{ public_id: "groc10", url: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=600" }] },

    // ─── Beauty ────────────────────────────────────────────────────────────────
    { name: "Vitamin C Brightening Serum 30ml", category: "beauty", price: 1299, stock: 150, ratings: 4.8, description: "20% ascorbic acid, fades dark spots, boosts collagen.", photos: [{ public_id: "beau1", url: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?w=600" }] },
    { name: "Hyaluronic Acid Moisturiser 50ml", category: "beauty", price: 999, stock: 200, ratings: 4.7, description: "Triple-weight HA, 72-hour hydration, fragrance-free.", photos: [{ public_id: "beau2", url: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=600" }] },
    { name: "Retinol Night Cream 0.5%", category: "beauty", price: 1799, stock: 120, ratings: 4.7, description: "Clinically proven to reduce wrinkles in 4 weeks.", photos: [{ public_id: "beau3", url: "https://images.unsplash.com/photo-1576426863848-c21f53c60b19?w=600" }] },
    { name: "SPF 50+ Mineral Sunscreen 75ml", category: "beauty", price: 699, stock: 300, ratings: 4.8, description: "Zinc oxide, invisible finish, water-resistant 80 minutes.", photos: [{ public_id: "beau4", url: "https://images.unsplash.com/photo-1590439471364-192aa70c0b53?w=600" }] },
    { name: "Argan Oil Hair Serum 100ml", category: "beauty", price: 799, stock: 180, ratings: 4.6, description: "Cold-pressed Moroccan argan oil, frizz control, UV protection.", photos: [{ public_id: "beau5", url: "https://images.unsplash.com/photo-1595348020949-87cdfbb44174?w=600" }] },
    { name: "Niacinamide 10% + Zinc 1% Serum", category: "beauty", price: 599, stock: 250, ratings: 4.8, description: "Controls sebum, minimises pores, reduces blemishes.", photos: [{ public_id: "beau6", url: "https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=600" }] },
    { name: "Rose Water Toner 200ml", category: "beauty", price: 399, stock: 350, ratings: 4.6, description: "Pure Bulgarian rose extract, balances pH, refreshes skin.", photos: [{ public_id: "beau7", url: "https://images.unsplash.com/photo-1552693673-1bf958298935?w=600" }] },
    { name: "Lip Balm SPF 15 – Berry Tint", category: "beauty", price: 249, stock: 500, ratings: 4.5, description: "Shea butter, vitamin E, long-lasting moisture with a hint of colour.", photos: [{ public_id: "beau8", url: "https://images.unsplash.com/photo-1586495777744-4e6232bf2f90?w=600" }] },
    { name: "Under Eye Peptide Cream 15ml", category: "beauty", price: 1499, stock: 100, ratings: 4.7, description: "Caffeine + peptides, reduces dark circles and puffiness.", photos: [{ public_id: "beau9", url: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?w=600" }] },
    { name: "Natural Loofah Bath Sponge Set 3pc", category: "beauty", price: 299, stock: 400, ratings: 4.4, description: "100% natural plant fibre, exfoliating and biodegradable.", photos: [{ public_id: "beau10", url: "https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=600" }] },

    // ─── Toys ──────────────────────────────────────────────────────────────────
    { name: "LEGO Technic McLaren F1 Car 1432pc", category: "toys", price: 14999, stock: 40, ratings: 4.9, description: "Authentic McLaren livery, V8 engine, working steering — ages 18+.", photos: [{ public_id: "toy1", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "RC Drift Car 4WD 1:10 Scale", category: "toys", price: 4999, stock: 60, ratings: 4.7, description: "4WD drift tyres, 25km/h, 2.4GHz remote, brushed motor.", photos: [{ public_id: "toy2", url: "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=600" }] },
    { name: "Rubik's Cube 3×3 Speed Edition", category: "toys", price: 499, stock: 300, ratings: 4.7, description: "Cornercutting smooth, bright stickers, competition-ready.", photos: [{ public_id: "toy3", url: "https://images.unsplash.com/photo-1621520291095-aa6c7137491b?w=600" }] },
    { name: "Kinetic Sand Mega Set 5kg", category: "toys", price: 1999, stock: 80, ratings: 4.8, description: "Never dries out, moulds perfectly, 98% sand 2% magic.", photos: [{ public_id: "toy4", url: "https://images.unsplash.com/photo-1555149080-9b3f55c3a8c0?w=600" }] },
    { name: "Drone with 4K Camera – Foldable", category: "toys", price: 15999, stock: 25, ratings: 4.6, description: "4K stabilised camera, 30-min flight, obstacle avoidance.", photos: [{ public_id: "toy5", url: "https://images.unsplash.com/photo-1507582020474-9a35b7d455d9?w=600" }] },
    { name: "Science Experiment Kit – 100 Experiments", category: "toys", price: 1499, stock: 100, ratings: 4.8, description: "Chemistry, physics, biology — STEM learning for ages 8–14.", photos: [{ public_id: "toy6", url: "https://images.unsplash.com/photo-1518133835878-5a93cc3f89e5?w=600" }] },
    { name: "Wooden Chess Set with Storage", category: "toys", price: 1999, stock: 70, ratings: 4.7, description: "Handcrafted wooden pieces, velvet-lined storage box.", photos: [{ public_id: "toy7", url: "https://images.unsplash.com/photo-1529699211952-734e80c4d42b?w=600" }] },
    { name: "Stuffed Animal Elephant 50cm", category: "toys", price: 799, stock: 200, ratings: 4.8, description: "Ultra-soft plush, PP cotton filling, child-safe materials.", photos: [{ public_id: "toy8", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "Play Kitchen Set – Wooden 25pc", category: "toys", price: 3499, stock: 50, ratings: 4.7, description: "Birchwood, non-toxic paints, realistic pots and pans.", photos: [{ public_id: "toy9", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },
    { name: "Hot Wheels Ultimate Garage 3-Level", category: "toys", price: 5999, stock: 35, ratings: 4.8, description: "200-car capacity, motorised elevator, colour-change car included.", photos: [{ public_id: "toy10", url: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" }] },

    // ─── Fitness ───────────────────────────────────────────────────────────────
    { name: "Adjustable Dumbbell Set 2–24kg", category: "fitness", price: 19999, stock: 30, ratings: 4.8, description: "Quick-adjust dial, 15 weight settings, compact design.", photos: [{ public_id: "fit1", url: "https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=600" }] },
    { name: "Yoga Mat 6mm TPE Non-Slip", category: "fitness", price: 1299, stock: 150, ratings: 4.7, description: "Eco-friendly TPE, double-layer, alignment lines, carry strap.", photos: [{ public_id: "fit2", url: "https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=600" }] },
    { name: "Pull-Up Bar – Doorframe No-Screw", category: "fitness", price: 1799, stock: 100, ratings: 4.6, description: "Fits doors 62–100cm, 150kg capacity, multi-grip.", photos: [{ public_id: "fit3", url: "https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=600" }] },
    { name: "Resistance Bands Set 11pc 5 Levels", category: "fitness", price: 999, stock: 250, ratings: 4.7, description: "Heavy-duty latex, 10–50lbs resistance, door anchor and handles included.", photos: [{ public_id: "fit4", url: "https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=600" }] },
    { name: "Smart Weighing Scale with Body Fat", category: "fitness", price: 2499, stock: 80, ratings: 4.6, description: "13 body composition metrics, Bluetooth, iOS/Android app sync.", photos: [{ public_id: "fit5", url: "https://images.unsplash.com/photo-1571731956672-f2b94d7dd0cb?w=600" }] },
    { name: "5kg Cast Iron Kettlebell", category: "fitness", price: 899, stock: 200, ratings: 4.7, description: "Solid cast iron, vinyl coating, flat base for storage.", photos: [{ public_id: "fit6", url: "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=600" }] },
    { name: "Treadmill – Foldable 12km/h", category: "fitness", price: 39999, stock: 15, ratings: 4.7, description: "12 programs, incline adjustment, shock-absorbing deck.", photos: [{ public_id: "fit7", url: "https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=600" }] },
    { name: "Whey Protein Isolate 2kg – Chocolate", category: "fitness", price: 4999, stock: 120, ratings: 4.8, description: "90% protein per serving, 27g protein, low fat and sugar.", photos: [{ public_id: "fit8", url: "https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=600" }] },
    { name: "Jump Rope – Speed Cable with Counter", category: "fitness", price: 699, stock: 300, ratings: 4.6, description: "Ball-bearing handles, digital counter, adjustable length.", photos: [{ public_id: "fit9", url: "https://images.unsplash.com/photo-1598159490734-1ff50226ca66?w=600" }] },
    { name: "Ab Wheel Roller with Knee Pad", category: "fitness", price: 799, stock: 200, ratings: 4.6, description: "Wide wheel for stability, foam grip handles, anti-slip knee mat.", photos: [{ public_id: "fit10", url: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600" }] },

    // ─── Gaming ────────────────────────────────────────────────────────────────
    { name: "PlayStation 5 Disc Edition", category: "gaming", price: 54999, stock: 20, ratings: 4.9, description: "Next-gen console with ultra-high-speed SSD, ray tracing, and 4K gaming.", photos: [{ public_id: "gam1", url: "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=600" }] },
    { name: "Xbox Series X 1TB Console", category: "gaming", price: 52999, stock: 18, ratings: 4.8, description: "12 teraflops of power, 120fps gaming, Quick Resume for multiple games.", photos: [{ public_id: "gam2", url: "https://images.unsplash.com/photo-1621259182978-fbf93132d53d?w=600" }] },
    { name: "Nintendo Switch OLED 2024", category: "gaming", price: 34999, stock: 35, ratings: 4.9, description: "7-inch OLED screen, enhanced audio, 64GB storage, dock included.", photos: [{ public_id: "gam3", url: "https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=600" }] },
    { name: "MSI Gaming Monitor 27\" 165Hz QHD", category: "gaming", price: 29999, stock: 25, ratings: 4.8, description: "1440p QHD, 165Hz, 1ms response, IPS panel, AMD FreeSync Premium.", photos: [{ public_id: "gam4", url: "https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?w=600" }] },
    { name: "Razer DeathAdder V3 Gaming Mouse", category: "gaming", price: 5999, stock: 80, ratings: 4.8, description: "30K DPI optical sensor, 90-hr battery, Focus Pro sensor, ultra-lightweight 63g.", photos: [{ public_id: "gam5", url: "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=600" }] },
    { name: "SteelSeries Arctis Nova Pro Headset", category: "gaming", price: 19999, stock: 40, ratings: 4.9, description: "Hi-Fi audio, active noise cancellation, dual-wireless, multi-system support.", photos: [{ public_id: "gam6", url: "https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?w=600" }] },
    { name: "PS5 DualSense Wireless Controller", category: "gaming", price: 6999, stock: 60, ratings: 4.8, description: "Adaptive triggers, haptic feedback, built-in mic, USB-C charging.", photos: [{ public_id: "gam7", url: "https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?w=600" }] },
    { name: "Gaming Chair Pro RGB Lumbar Support", category: "gaming", price: 18999, stock: 22, ratings: 4.7, description: "4D armrests, neck pillow, recline 90–180°, RGB base lighting.", photos: [{ public_id: "gam8", url: "https://images.unsplash.com/photo-1598550476439-6847785fcea6?w=600" }] },
    { name: "Corsair K95 RGB Platinum Keyboard", category: "gaming", price: 13999, stock: 45, ratings: 4.8, description: "Cherry MX Speed switches, per-key RGB, 6 macro keys, aluminium frame.", photos: [{ public_id: "gam9", url: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=600" }] },
    { name: "Samsung 980 Pro 2TB NVMe SSD", category: "gaming", price: 14999, stock: 50, ratings: 4.9, description: "7,000 MB/s read speed, PS5 compatible, PCIe 4.0, thermal control.", photos: [{ public_id: "gam10", url: "https://images.unsplash.com/photo-1597872200969-2b65d56bd16b?w=600" }] },
];

const seed = async () => {
    try {
        await mongoose.connect(MONGO_URI);
        console.log('✅ Connected to MongoDB');

        const existing = await Product.countDocuments();
        if (existing > 0) {
            console.log(`⚠️  Database already has ${existing} products. Dropping and reseeding...`);
            await Product.deleteMany({});
        }

        await Product.insertMany(products);
        console.log(`✅ Successfully seeded ${products.length} products across 12 categories.`);

        // Flush Redis so stale cached data is cleared
        if (REDIS_URI) {
            const redis = new Redis(REDIS_URI);
            await redis.flushall();
            redis.disconnect();
            console.log('✅ Redis cache flushed.');
        }
    } catch (err) {
        console.error('❌ Seeding failed:', err);
    } finally {
        await mongoose.disconnect();
        process.exit(0);
    }
};

seed();
